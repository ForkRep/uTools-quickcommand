## v2.1.1

 - 在新建命令支持选择任意文件作为图标
    - 当选择 `.PNG` `.JPG` `.ICO` 等文件时，则以图片作为图标
    - 当选择 `.EXE` `.APP` 时，则以程序的图标作为图标
    - 当选择其他文件时，则以该文件的默认图标作为图标
 - 新增 `quickcommand.enterData` 用以获取进入插件时匹配的类型和数据，用法详见文档
 - 提供一个示例，作为`专业模式`下`配置`的默认值

## v2.1.0

### 新增功能

 - 输出选项添加`忽略输出并保留窗口`
 - 添加`专业模式`的匹配选项
    - 可以通过 json 格式的配置实现同时匹配关键字、窗口、文件甚至图片
    - 可以实现指定文件数量、窗口类等
    - json 格式配置和插件开发的 `features.cmds` 一致
    - 配置处可以点击旁边的按钮全屏，方便填写 json 格式的配置
 - `quickcommand.showTextAera` 新增一个参数可以设置默认文本值

 ![0yxZIP.png](https://s1.ax1x.com/2020/10/10/0yxZIP.png)
 ![06SuuQ.png](https://s1.ax1x.com/2020/10/10/06SuuQ.png)

### BUG FIX

 - 修复图标比例非 1:1 时排版出错的 bug
 - 修复某些情况下无法启动 windows terminal 的问题
 - 修复`MatchedFiles`匹配的文件路径中包含`$$`时会被处理成`$`的问题

## v2.0.1

 - 修复当某个命令在新版本不兼容时，导致所有命令无法显示的 bug 

## v2.0.0

本次带来了 海量更新，请仔细看完更新日志~

**更新后第一次进入插件会显示空白一段时间，是在对老版本的命令做兼容处理，属于正常现象**

### 新增功能

#### 分享中心

可以在线下载分享的命令

![UfDkdS.png](https://i.imgur.com/ikAxHY1.png)

#### 暗黑模式

全面兼容暗黑模式

#### 内置命令

内置`文本处理`，`find GUI`，`执行 shell 命令`等多个实用快捷命令，均使用新版本新增功能实现

![UfrkOx.png](https://s1.ax1x.com/2020/07/20/UfrkOx.png)

![ap24Hg.gif](https://s1.ax1x.com/2020/07/26/ap24Hg.gif)

#### RunCode

新增一个脚本编辑器，可以直接进行脚本的编辑及测试

支持通过关键词或文件匹配方式进入

![UfsGvR.png](https://s1.ax1x.com/2020/07/20/UfsGvR.png)

#### 帮助

新增一篇[帮助文档](./HELP.html)

#### 多开

分离插件后可以多开

### 新增特性

#### 匹配

- 新增文件匹配

#### 环境

##### quickcommand

- `模拟动作`模式改名为`quickcommand`
- 在 vm2 内运行，与插件环境隔离
- 无需本机预装环境，支持使用 nodejs/electron/utools 的 api
- 支持**通过列表、多输入框、多按钮、文本框**等多种形式获得用户的输入
- 现在和其他脚本一样可以针对输出进行不同处理或显示
- 封包了一些实用功能
- 现在添加按键通过监听按键进行添加，不再需要手动添加
- 添加更多的预设动作
- 重写延时函数，解决 utools 隐藏后延时不准的问题（其实是 electron 的问题）
- [API 文档](./quickcommand.html)

![UfrpY4.png](https://i.imgur.com/Gn7pr27.png)

##### 其他脚本

- 新增支持运行`C# `，需要安装 .net framework v4.0.30319
- `C`脚本， 需要安装 gcc 并加入环境变量
-  windows 下可以通过 wsl 运行`shell`脚本
- 可以运行带参数的脚本

##### custom

- 环境选择`custom`可以自定义解释器的路径、参数、脚本后缀以及输出解码的方式

#### 标签

- 支持给命令添加标签，并在配置界面按标签进行分类显示
- 最多支持 3 个标签

#### 变量

- 新增` {{MatchedFiles}} `用来获取匹配的文件
- `{{MatchedFiles}}` 及` {{WindowInfo}} `支持获取特殊的键值，比如通过 `{{WindowInfo.id}}`获取匹配的窗口 id ，通过`{{MatchedFiles[0].path}}`获取匹配的第一个文件的路径
- 可以通过`{{subinput:placeholder}}`的格式来自定义占位符
- `{{pwd}} `获取失败时返回桌面路径

#### 输出

- 输出实时动态显示，无需等到命令执行结束
- 插件高度根据输出内容自适应，带子输入框的情况下，输出自动滚动
- 输出的文本或 html 结果可以按 ctrl+f 进行搜索


#### 平台

- 支持设置命令适配的平台

#### 运行

- 可以在新建命令的界面直接运行当前代码进行测试

#### 编辑器

- 支持 js、py 代码格式化
- 新增cmd、applescript 代码高亮（原先用的 shell 的）
- 支持代码提示和特殊变量提示，其中 cmd 和 shell 支持提示和补全当前环境变量下的命令，js 和 py 支持智能提示，其他语言支持关键字提示
- 支持 vscode 快捷键

#### 导入导出

- 支持将命令导出到剪贴板，以及通过剪贴板导入命令

#### 其他

- 防误操作
  - 删除命令时会再次确认
  - 删除、清空命令时，会将删除的命令复制到剪贴板，可以通过导入命令快速恢复
- 数据库存储结构重构，解决某些情况下数据同步时产生的异常

## v1.6.1

 - 现在执行快捷命令时，会现将uTools的高度设置为0，如果有输出，再展开
 - 模拟动作模式增加支持`require`
 - 匹配主窗口输入模式下，会对输入的格式做简单校验

## v1.6.0

- 修复php乱码
- 现在可以自定义输出的编码方式，脚本里选择`custom`
- 模拟操作模式的`+延时`合并到`+动作中`

## v1.5.9

- 修复不能导入命令的bug
- 由于uTools 1.0.0版本匹配窗口时无法再使用正则，所以选择匹配窗口模式时，在填写进程时需填写进程全名，多个进程逗号隔开
- 忽略输出模式调整回自动隐藏窗口
- 更新示例命令库

## v1.5.8

- 适配新版本

## v1.5.7

- 添加`模拟操作`的功能，在`类型`下拉框内选取
  - 该模式提供了模拟按键、打开文件、打开网站、定位文件、执行命令等实用功能
  - 结合模拟按键和窗口匹配，可以实现针对不同的软件模拟不同的操作
  - 该模式适用于没有编程基础的用户，只需要通过下拉框选取想要的功能，就可以快速编写一个简单的命令
  - 该模式同样适用于本机没有任何语言环境的或环境变量失效的用户，不需要安装nodejs即可执行js代码
  - 虽然没有提供`特殊变量`的下拉框，但实际是支持的
- 脚本报错时提供跳转至临时脚本目录的选项
- 添加一个`下载命令`的按钮，可以跳转到[样例命令库]( https://github.com/fofolee/uTools-QuickerCommand/tree/master/CommandCollections )，如果你不知道怎么去编写一个目录，可以尝试下载导入进行参考
- （貌似）修复了执行完命令后，再次呼出uTools会短暂显示命令关键词的bug，该bug可能是由先隐藏uTools再退出插件所引起

![JU0UAS.png](https://s1.ax1x.com/2020/04/22/JU0UAS.png)

## v1.5.1
- 修复macOS下新增命令界面排版错误的问题
- 修复macOS下使用shell脚本且发送输出结果到活动窗口时结果不正确的问题

## v1.5.0

 - 注意本次更新对多处代码进行了重写，如果原有命令在上一版运行正常，在这一版出现了一些问题，请重新编辑该命令，修改命令的模式。如原有命令中使用了{{input}}变量的，关键字会变成[object object]，请重新编辑该命令，将命令调整为`主输入框正则匹配`，如果原有命令中使用了{{pwd}}等变量的，请重新编辑该命令，将命令调整为`通过uTools呼出前的窗口匹配`
 - 原先命令自定了图标的，如果图标显示异常，重新选择设置一次图标即可

![JU08Xt.png](https://s1.ax1x.com/2020/04/22/JU08Xt.png)

### 功能更新

- 新增`通过uTools呼出前的窗口匹配`的模式，现在可以快速编写一个应用到当前活动窗口的脚本
- 现在可以分别通过`关键字`,`主输入框正则匹配`,`活动窗口匹配`三种方式来调用自定义的脚本


- 新增一个特殊变量`当前窗口信息`，输出`json`格式的窗口相关信息，将原先的特殊变量`用户名`改为`本机唯一ID`，方便针对不同电脑编写脚本，两个变量均通过官方API获取
- 弃用原先模拟按键的方式，获取资源管理器路径、选中文件、浏览器地址均借助官方API
- 新增`发送系统通知`的输出模式 By [imxiny](https://github.com/imxiny)
- 新增`在终端显示`的输出模式, 用以解决脚本需要显示动态输出的问题, 如 curl 命令 [issue](https://github.com/fofolee/uTools-QuickerCommand/issues/3)
- 上传一些命令至仓库的`CommandCollections`文件夹，用以作为编写命令的样例，同时大家可以提交PR丰富这个命令库 [CommandCollections](https://github.com/fofolee/uTools-QuickerCommand/tree/master/CommandCollections)

### BUG 修复

- 修复 php 无法输入 <? 问题，修复MacOS环境变量问题，修复脚本不能带参数问题 By [dofy](https://github.com/dofy)
- 修复中文乱码问题
- 修复当使用子输入框时，会多次触发脚本的问题 [issue](https://github.com/fofolee/uTools-QuickerCommand/issues/5)
- 修复当使用多行批处理脚本时，执行会报错的问题，该问题源于之前插件保存的批处理脚本的换行符是`LF`, windows 无法识别 [issue](https://yuanliao.info/d/424/70)

### 用户体验

- 获取选中文本，以及输出方式为发送到活动窗口时不再覆盖用户剪贴板

### 催更

- 之前了解到官方将出自动化插件，所以也有较长时间没有更新，在此以更催更

## v1.1.0

- 新增支持获取子输入框变量，感谢@ghostbody
- 支持自定义解释器的路径

## v1.0.0

- 上架 uTools 商店,去掉插件自带更新
- 精简了插件大小
- 可以自定义语言

## v0.0.2

- 修复uTools更新后进入插件空白的BUG
- 添加Linux支持
- 修复导入BUG
- 修复说明为空时无法启用命令的BUG
- 添加全部导出和全部删除的功能
